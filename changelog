2025-08-11
- Fixed
corrected visible entries after batch delete, batch move, create
can create a new entry when the selected entry is a file


2025-08-07
Known Issues
operations in file pane may result in incorrect visible entries (underlying fs
operations are ok)
- occasionally have to manually refresh, mostly on move_batch, delete_batch,
delete

- Added
exit create/batch FilesMode after operation is done

- Changed
moved most file operations from the ui module to the files module
separate create_file / create_folder logic


2025-08-06
- Changed
experimental rewrite of file tree
- initial approach uses parentless entries with trails
- tried using Weak, Rc, RefCell but gave up quickly because that was a bad idea
- currently trying hashmap, but having issues with syncing file tree and
visible entries


2025-08-05
- In Progress
fs notifications

- Changed
rewrite file tree logic
remove RefreshSelected message because it's not as easy to directly mutate child entries


2025-08-04
- Added
last key press
batch delete

- Changed
use cross-platform directories via directories and trash crates

- Fixed
batch move
navigateup logic

- Removed
unused code from files.rs and db.rs


2025-08-01
- Added
bidirectional communication via channels for image generation (iced
subscription)
- pause & resume task spawning, cancel in-flight requests


2025-07-30
- Added
update and delete base/char/template
files pane create folder
theme selector

- Fixed
scale thumbnails correctly
clear rename input on submit
- use splice to insert new name in options

2025-07-29
- Added
image history deletion
  - bind to shift + d while image pane is focused and check state.selected_image
    - trash file, remove from state.images and state.thumbnails
    - decrement index; saturate at 0
add option to change orientation of image
set seed when right clicking image
batch image creation
  - NOTE: in the UI this stores the initial seed which is discarded when generating N new seeds


2025-07-28
- Added
save prompt
rename templates/base/character in ui
seed from the latest generated image
image history via thumbnails (scrollable)
  - store both the original and resized in VecDeque so we can push new images to the front
  - update ImageGenerated message
  - use image::imageops::resize with some wh, filtertype Nearest
  - scrollable of Vec<MouseArea<Image>>, in the view function enumerate to set index, on_left_click view image in pane and on_right_click extract metadata and set in prompts pane
  - precedence of selected image in file pane over selected thumbnail
  - track position of image, and alter style to show selected thumbnail


2025-07-24 to 2025-07-25
- Added
scuffed prompt history
batch extract and insert prompts from images in a directory into db (see https://github.com/NovelAI/novelai-image-metadata)
load and save prompts to sqlite
- sorted by timestamp
- combo box
- store sorted names and hashmap in state

- Fixed
- Changed
- Removed


2025-07-23 to 2025-07-24

- Added
drop png file onto window -> import metadata
key press "i" in files pane -> import metadata
if custom character position, set use_coords to enable
delete for files pane (+remove from cache)
batch mode
batch move file

- Fixed
shutdown iced app in tokio runtime

- Changed
bits instead of bools for state (expanded, visited, etc.)

- Removed
